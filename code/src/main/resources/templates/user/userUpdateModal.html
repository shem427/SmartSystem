<div class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="userModalLabel" th:if="${id == ''}">
                    添加人员
                </h4>
                <h4 class="modal-title" id="userModalLabel" th:if="${id != ''}">
                    编辑人员
                </h4>
            </div>
            <div class="modal-body">
                <form role="form" id="userModalForm">
                    <div class="form-group">
                        <label for="userID">用户ID</label>
                        <input type="text" class="form-control" id="userID" name="userID" placeholder="请输入用户ID" th:value="${id}" th:readonly="${!isCreate}" maxlength="6" />
                    </div>
                    <div class="form-group">
                        <label for="userName">用户名</label>
                        <input type="text" class="form-control" id="userName" name="userName" placeholder="请输入用户名" th:value="${name}" maxlength="8" />
                    </div>
                    <div class="form-group" th:if="${id == ''}">
                        <label for="userPassword">用户密码</label>
                        <input type="password" class="form-control" id="userPassword" name="userPassword" placeholder="请输入密码" maxlength="32" />
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">电话号码</label>
                        <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" placeholder="请输入电话号码" th:value="${phone}" maxlength="14" />
                    </div>
                    <div class="form-group">
                        <label for="eMail">邮件</label>
                        <input type="text" class="form-control" id="eMail" name="mailAddress" placeholder="请输入邮件地址" th:value="${mail}" maxlength="64" />
                    </div>
                    <div class="form-group">
                        <label for="roles">权限</label>
                        <select class="form-control" id="roles" name="roles" multiple="multiple">
                            <th:block th:each="role : ${allRoles}">
                                <option th:value="${role.key}" th:text="${role.value}" th:selected="${#lists.contains(userRoles, role.key)}"></option>
                            </th:block>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id="closeUserBtn">关闭</button>
                <button type="button" class="btn btn-primary" id="saveUserBtn">保存</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
    <input type="hidden" th:value="${isCreate}" id="isCreate" />
    <input type="hidden" th:value="${isSelf}" id="isSelf" />

    <script th:src="@{/script/userUpdateModal.js}"></script>
    <script>
        $(function() {$.mr.user.modal.init();});
    </script>
</div>